# 基础设施效应

用于 IT 基础设施的编程语言没有到期日。COBOL 已经存在了 60 年——而且在短期内不会消失。我们维护着数十亿行经典的主机代码。但我们也在用 Go 等语言构建新的云基础设施。

COBOL 是计算机使行业更高效的巨大飞跃。Chris Short 描述了学习 COBOL 被视为一种安全的长期投资。六十年后，有数十亿行 COBOL 代码难以被替代，而了解这种语言的专业人士也寥寥无几。Ritika Trikha 解释说，必须有所改变：要么更多人学习 COBOL，要么依赖它的行业需要更新他们的代码库。这两种选择都很困难。但未来并不是用 COBOL 编写的。今天的 IT 基础设施是在云中构建的——而且其中很多是用 Go 编写的。Carmen Hernández Andoh 分享了 Go 的设计者希望创造一种更适合云计算的语言。Kelsey Hightower 指出，编程语言通常专注于特定任务，但它们越来越开放和灵活。

### 00:00-Saron Yitbarek

当纽约市地铁在1904年首次运行时，它是现代时代的一个奇迹。但是……当今的通勤者依赖的是一个设计于一个多世纪前的基础设施，会发生什么呢？列车拥挤且经常晚点。纽约每年有二十亿次地铁乘坐，但现在没人再觉得它是奇迹了。我们被昨日破败的基础设施所束缚，必须找到聪明的、全新的方法让它继续运转。

### 00:44-Saron Yitbarek

曾经，基础设施项目是一些我们看得见的大型混凝土工程——比如地铁。而因为这些项目具有实体存在，当它们损坏时也显而易见。高速公路开裂，电线杆倒下。这些问题何时需要修复，我们都知道。为了让我们的生活与老化的基础设施同步，需要付出巨大的努力。

### 01:12-Saron Yitbarek

但现在情况并不总是那么明显。今天我们还有IT基础设施，服务器农场在孤立的田野中嗡嗡作响，光纤电缆跨越大洋，还有软件基础设施。比如遗留的操作系统，或者没人敢替换的shell脚本。当所有这些IT基础设施变得老旧且失修时，我们无法亲眼看见。然而，支撑当今开发工作的基础设施正在老化，就像一条老旧的地铁轨道一样。这会扰乱我们的现代生活。随着当今的命令行英雄努力确保我们不会被过去束缚，巨大的新挑战正在涌现。

### 02:02-Saron Yitbarek

这是我们整个季度探索编程语言世界的第五集。我们将研究两种与它们最初设计的基础设施有着密切联系的语言。COBOL是一种与大型机计算紧密相关的语言，而Go则源自云计算。它们都深受其起源的影响。理解这一点，或许能避免未来的开发者像被挤在纽约Penn车站的通勤者那样狼狈不堪。

### 02:33-Saron Yitbarek

我是Saron Yitbarek，这里是Red Hat原创播客《Command Line Heroes》第三季。

### 02:43-Grace Hopper

未来还有许多事情要做，但我们需要大量的信息，相关联且易于访问。我们才刚刚开始。

### 02:53-Saron Yitbarek

Admiral Grace Hopper在20世纪40年代和50年代开创了高级编程语言。而她之所以能够实现这一伟大的飞跃，正是因为她那个时代的大型机计算基础设施。

### 03:08-Chris Short

嗨，我是Chris Short。

### 03:10-Saron Yitbarek

Chris是Red Hat的首席产品营销经理，他对历史也颇有兴趣。

### 03:17-Chris Short

Admiral Hopper在40年代开发了FLOW-MATIC，她被广泛认为是COBOL的祖母，这在当时是革命性的。所以你可以直接说，“嘿，把它放到大型机上，”或者“嘿，把它存储到大型机上。”

### 03:31-Saron Yitbarek

这是一个重大的改变。突然之间，你有了COBOL这种与机器无关的语言，它原生支持大型机环境，各种可能性开始出现。

### 03:42-Chris Short

COBOL与大型机真正给了每个组织一种能力，不再需要满屋子的人拿着铅笔、纸张、计算器和计算尺，而只需要一间房的一半，放上一台大型机。然后他们只需要让几个人用COBOL写一些应用程序，来处理所有的数学、逻辑和账目工作——以前整个财务团队需要做的事。因为很多输入可以数字化，而不是手工输入，所以你所需的团队人数大大减少了。

### 04:17-Saron Yitbarek

如果你是当时的COBOL程序员之一，你可能会觉得这份工作可以做到退休。因为你工作的基础——那些大型机，根本不会消失。

### 04:30-Chris Short

那时摩尔定律还不存在，所以你可能整整十年都在使用同一台大型机，不用担心下一个操作系统，或者下一个容器编排工具，或是AI，或者其他东西。你可能整个职业生涯都在使用COBOL，感觉非常安全。

### 04:55-Saron Yitbarek

但是，摩尔定律最终还是来了，新的基础设施也随之出现。如今，程序员不太可能学习一个有半个世纪历史的语言。但是，事实是，那些老旧的大型机并没有真正消失。这也意味着我们对COBOL开发者的需求并没有消失。

### 05:17-Chris Short

现在越来越难找到COBOL开发者。这些大型机可能已经存在了50年，而那些还会写优质COBOL代码的开发者可以拿到巨额报酬，帮助完成项目以及大型机内的数据重组。这项技能确实在逐渐消失，但它也成为了一个非常有利可图的职业领域——如果你会写COBOL，你现在肯定能赚很多钱。

### 05:49-Saron Yitbarek

尤其是在制造业和金融行业。你无法摆脱几十年前铺设的所有基础设施。遗留代码渗透在全球的工作中。忽视这些老旧基础设施及其相关语言将是一个巨大的错误。

### 06:08-Chris Short

有两千亿行代码遗留下来，要重构这些代码非常困难。我认为在我们有生之年肯定不会看到它们完全消失。

### 06:21-Saron Yitbarek

Chris Short是Red Hat的首席产品营销经理。

### 06:28-Saron Yitbarek

我想强化一下Chris的观点。想想看，COBOL嵌入了95%的ATM交易中。这说明我们与这门语言的紧密联系。然而，平均的COBOL程序员年龄几乎和这门语言一样大，他们大概45岁，甚至55岁。而年轻一代对此并不感兴趣。这就是为什么我想介绍你认识一个人。

### 06:56-Ritika Trikha

嗨，我叫Ritika Trikha。

### 06:59-Saron Yitbarek

Ritika是一名科技作家，曾在HackerRank工作。她对COBOL的问题很感兴趣，尤其是人们常常认为它是一种从大型机时代遗留下来的无用语言。

### 07:12-Ritika Trikha

今天的开发者根本没有考虑COBOL，它被忽视了，淡出了人们的视野和意识。

### 07:17-Saron Yitbarek

但这可能会酿成灾难。

### 07:21-Ritika Trikha

如今仍有大量COBOL代码在支撑着企业的运作。每年新增至少15亿行COBOL代码。我认为，当你看到特定行业时，这真的很有意思。比如美国国税局（IRS）有5000万行代码，美国社会保障局（SSA）有6000万行代码。这些机构处理的是当今一些最敏感、最重要的信息。如果我们不继续为这些大型机提供支持和维护，后果可能会非常严重。

### 08:04-Saron Yitbarek

所以，如果我们无法逃避旧有的基础设施，也不能挥舞魔法棒重建整个大型机世界，那该怎么办？那些通常只考虑未来的程序员，如何开始正视过去？我们需要首先直面这个问题。

### 08:25-Ritika Trikha

年轻一代必须掌握这些技能。或者，必须对这些大型机进行某种现代化改造。不论哪种方式，这个问题都不会自行消失。这就是为什么COBOL依然重要。

### 08:35-Saron Yitbarek

这并不容易。Ritika认为我们已经忽视这个问题太久了。

### 08:42-Ritika Trikha

要替换数十亿行COBOL代码，成本极高，难度极大，风险也极其高。这是像社会保障和金融信息这样任务关键的代码。COBOL就是为处理这种大规模事务而设计的。Grace Hopper在60年代设计了它，专门为商业事务设计。而从60年代开始，“如果没坏，为什么要修”这种心态一直持续到现在。我们如今面临的是几十年积累的、非常有价值的大量数据，仍在运行COBOL。

### 09:22-Saron Yitbarek

某种意义上，Ritika在呼吁一种文化转变。关于什么是“潮流”的态度需要改变。随着开发领域的历史越来越深，我们必须更好地与自己的过去联系起来。你无法逃避老化的基础设施，这也意味着你不能忽视语言的历史。

### 09:47-Ritika Trikha

必须有所行动。当我在HackerRank时，亲眼看到有多少银行和金融机构几乎陷入困境，迫切需要COBOL开发者。这不是一个会自行消失的问题。我认为，或者我们要对这些系统进行现代化改造，或者我们需要继续培训人才并提供激励。我个人认为，将来会有一天，COBOL会重新流行起来。真的，如果所有掌握COBOL知识的开发者都退休了，而年轻一代又没有人学习COBOL，会发生什么呢？一定会出现问题，对吧？所以，当我们从COBOL过渡到基于云的基础设施时，需要进行更加系统化和制度化的改变。

### 10:37-Saron Yitbarek

Ritika Trikha是一位住在旧金山的科技作家。

### 10:49-Saron Yitbarek

那么，Ritika提到的那些基于云的基础设施呢？我们今天构建的基础设施会不会像我们仍然依赖COBOL那样，把未来的几代人锁链在特定的语言上？亚马逊网络服务（AWS）可能是最大的单一云基础设施，于2006年推出。谷歌云平台于2008年上线，而微软Azure在2010年开始。Go语言因其对并发的关注，专为适应所有这些新的云基础设施而设计。它是一种符合其时代的语言。

### 11:26-Carmen Andoh

嗨，我叫Carmen Andoh，我是谷歌Go团队的项目经理。

### 11:34-Saron Yitbarek

Carmen对Go与当今基础设施的关系有着深入的了解。首先，Go的创造者与编程语言的历史有着深厚的联系。

### 11:47-Carmen Andoh

Robert Pike、Robert Griesemer和Ken Thompson。这些名字自1960年代以来就一直活跃。Ken Thompson发明了编程语言B，后来他在一个暑假期间发明了UNIX操作系统。而Rob Pike则发明了UTF-8，这是一种字符串编码。他还发明了ASCII，帮助共同创作了UNIX编程环境。因此，这两人是非常长时间的同事，他们之前一直在研究和发明操作系统，使用的编程语言包括C，而Ken Thompson最终与Dennis Ritchie一起编写了这门语言。

### 12:28-Saron Yitbarek

当Pike、Griesemer和Thompson都在谷歌工作时，他们发现了一个严重的问题。大规模的并发处理根本无法实现。人们在编译账单时要等待几个小时。他们在使用C++，不得不编写所有这些回调和事件调度程序。那是2009年，而我们的基础设施再次发生了变化。像C++这样的语言越来越无法适应新的现实。

### 12:59-Carmen Andoh

问题是由多核处理器、网络系统、大规模计算集群和网络编程模型等因素引入的。此外，行业的增长以及到2010年时编程人员数量达到了数千甚至数万。这使得在那之前所有的编程语言都只能绕过这些问题，而没有正面解决它们。

### 13:24-Saron Yitbarek

最终，你会到达一个临界点，总得做出改变。

### 13:30-Carmen Andoh

我们非常厌恶C++，我想，“那么，我们看看是否可以发明一些新的东西。”

### 13:37-Saron Yitbarek

这门新语言需要完美适应我们最新的基础设施。

### 13:43-Carmen Andoh

云计算在2005年开始成熟，这意味着你不再需要处理自己的计算能力，而是在别处租用计算资源，并获得一个分布式系统。但是在分布式系统和云中会发生什么呢？你会面临分布式系统之间的并发消息传递问题。你需要确保没有异步问题。Go是一种默认异步的编程语言。这基本上意味着你执行的每个操作，比如向系统中的另一个对象发送不同的消息，都是在不等待其他系统响应的情况下完成的。因此，它可以同时处理多个消息。

### 14:28-Carmen Andoh

也就是说，云计算是分布式的。因此，Go的开发是为了满足这一具体需求。Go很早就成为处理这种分布式计算的标准方法之一。这就是为什么我认为它立即获得了许多开发者的关注。Go绝对是云基础设施的语言，无论是在设计上，还是在过去十年中涌现出的所有云基础设施工具和构建模块的生态系统中。

### 15:06-Saron Yitbarek

很快，Kubernetes等主要应用程序开始用Go编写。谷歌还创建了Go Cloud，这是一个开源库和工具集，使Go更加吸引人。显而易见，这是一种全新生态系统的语言。它是云的语言。而且，创造者有开发持久语言的声誉，这一点毫无疑问也是加分项。

### 15:33-Carmen Andoh

我认为其他行业的人都说：“嘿，我认为这不会很快消失。”而且这门语言的创造者恰好也是一些现在已经进入50年或60年的语言的创造者。

### 15:47-Saron Yitbarek

Carmen Andoh是谷歌Go团队的项目经理。

### 15:54-Saron Yitbarek

所以我们有了一门新语言Go，它旨在提供云基础设施所需的并发。这听起来不错。Go的设计者倾向于创造能够持续半个世纪的语言，这也很好。但是我的问题是，50年后，当Go变得更像COBOL时，这究竟意味着什么？当这个世界充满了只有年长开发者才能理解的遗留Go代码时，这又意味着什么？我们是否为当今云基础设施老化的时代做好了准备？我们是否从COBOL和大型机的世界中吸取了教训，能帮助我们为Go和云设计一个更好的未来？

### 16:40-Saron Yitbarek

幸运的是，我找到了正好可以问这些问题的合适人选。接下来是。

### 16:51-Saron Yitbarek

我们如何为我们的编程语言做好未来的准备？我们知道它们与当时的基础设施息息相关。我们也知道，随着岁月的流逝，新基础设施必然会取代旧基础设施。那么，我们今天做了什么来保持明天的顺利运转？

### 17:10-Kelsey Hightower

我是Kelsey Hightower，我在谷歌工作，是一名开发者倡导者，致力于将开放技术转化为Google Cloud的产品。

### 17:19-Saron Yitbarek

Kelsey花了很多时间思考编程的未来。我很好奇，未来我们是否会有另一批年长的程序员，他们在Go语言方面拥有如同“巫师”般的技能，就像今天我们面临的COBOL“巫师”短缺一样。我们是否在为这个长远的未来做规划？所以Kelsey和我坐下来深入探讨这个问题。

### 17:42-Kelsey Hightower

……等等。但如果你考虑今天的一些新挑战，比如应对互联网、网络，你会面临多个用户、成千上万的并发用户、不同类型的机器和架构。因此，考虑到这些新用例，通常你会希望有一门新语言。例如，JavaScript是为了网页而生，你不会想让COBOL来进行网页编程。因此，今天有数百种语言已经存在并且相当成熟，它们都专注于自己的应用领域。

### 18:15-Saron Yitbarek

那么在这种情况下，我们是否需要积极推动人们学习COBOL？如果我们正在为这些新问题开发新的语言，而这些语言高度专业化，同时COBOL仍然存在，我们是否需要鼓励人们学习它，以维护我们的遗留代码？

### 18:32-Kelsey Hightower

我认为这对企业来说将是一个挑战，对吧？所以你在COBOL上投资了10年、20年，而没有人会主动考虑学习新的COBOL。或者你不会在大学毕业后就想：“我想继续加倍投入……”

### 18:45-Saron Yitbarek

没错。

### 18:46-Kelsey Hightower

“……这门比我父母还要老的语言。”所以在这个世界里，你必须问自己，继续使用COBOL的风险是什么？在未来，它是否仍然相关？我认为对于某些类型的工作负载，它仍然是相关的，但我们必须问自己一个问题，是时候进步了，是时候稍微进化一下了？所以如果你仍然有数十亿行的COBOL代码，你的处境是，你必须尽力寻找所有剩余的COBOL人才并将他们招募到公司，但也许我们可以开始思考其他语言可以从COBOL中学到什么，并将一些功能和库整合到其他语言中。

### 19:26-Saron Yitbarek

COBOL之后的生活将是一个巨大的基础设施项目。如果用我纽约地铁的比喻，那就像替换每一条地下隧道。因此，展望未来，我想知道我们是否可以预见这些问题，甚至为未来的自己做些好事。

### 19:48-Saron Yitbarek

如果我们将今天的云计算与大型主机进行比较，我们是否会陷入同样的境地，即拥有这些使用旧但非常稳定语言的遗留代码库，而我们必须找到一个新的平衡点，决定是否该继续前进或保持现状？

### 20:05-Kelsey Hightower

使云计算有点不同的地方在于，它不是来自一个制造商，对吧？许多云服务提供商通常会将一系列技术打包，这样你可以选择编程语言和编程范式，无论你想要事件驱动还是基于[HTTP]的Web服务。这意味着你可以选择想要的编程方式，只需专注于解决的问题。因此，数据会进来，数据会出去，但你选择如何处理这些数据。

### 20:36-Kelsey Hightower

大型主机通常只有一个主要接口，对吧？比如你编写这个作业，然后提交这个作业，监控作业，这里是结果。这本身是非常有限的。所以如果你考虑一些较新的大型主机，它们也支持一些新技术，因此即使在大型主机的世界里，你也开始看到可用于运行作业的编程语言的扩展。

### 20:58-Kelsey Hightower

所以我们开始问自己，好吧，考虑到我有新的选择，什么时候是从这个特定的编程范式中转变的时候？我认为我们不会被困住。

### 21:08-Saron Yitbarek

没错。

### 21:08-Kelsey Hightower

但我认为会很好，可能会出现一种新的分布式机器，进入成本更低，你不需要购买整个大型主机就可以开始。但我们仍然希望使用简单，只需告诉我，我的作业就交给你处理，告诉我什么时候完成。

### 21:24-Saron Yitbarek

绝对如此。你是否看到发生在COBOL身上的事情发生在今天的任何语言上？比如说Go，你认为我们在30年后是否会挣扎着维护Go，并且有人愿意使用Go？

### 21:38-Kelsey Hightower

我认为所有语言都可能面临这样的命运，对吧？如果你想想，Python已经存在很长时间了。我认为，它快接近20年了，如果不是更久的话。因此我认为发生的事情...而且Python的使用也重新兴起，对吧，它在机器学习中是一个基础语言。

### 21:53-Saron Yitbarek

没错。

### 21:54-Kelsey Hightower

对于像TensorFlow这样的库来说。所以如果我们仅仅用时间来判断，我认为这可能不是正确的方法。更重要的是这个社区的相关性如何？这个语言愿意适应的程度如何？我认为Python做得非常好，它...那个社区看到了使其他语言更易于使用的机会。例如，TensorFlow底下有很多C++代码，所以在这样的语言中编程可能没有Python那样用户友好。你可以用Python生成一些人们用来，举个例子，TensorFlow的东西。因此，既然机器学习是热门领域，人们就把Python引入了这个新领域，所以你知道吗？Python继续保持相关性，并将在未来的一段时间内继续保持相关性。对于Go也是同样的道理。如果Go能继续保持相关性，没错，它就像我们许多基础设施工具的基础，许多云库，它也将保持相关性。因此，我认为一切都在于那些社区确保他们在未来有一席之地，当未来来临时，确保他们有一个故事可以讲。

### 22:58-Saron Yitbarek

是的。那么，我们如何为我们的语言做好未来准备？这意味着，我们如何有意识地设计一种语言，使其能够持久存在，并在20、30年后保持相关性？

### 23:10-Kelsey Hightower

使用语言的人，这是我认为在开源领域非常独特的事情。现在我们已经远离商业语言，没错，语言曾经来自微软，或者在Java™的情况下来自Sun Microsystems，在那个时候，每个人都依赖于供应商来进行所有关于语言能够做什么的繁重工作，以及运行时的任何新改进。现在我们看到像Go、Node.js、Ruby这样的东西，所有这些都是以社区为基础并专注的运行时和语言。因此，任何人都可以添加新的库，对吧？几年前出现了新的[HTTP]规范，HTTP/2，每个相关的社区都让贡献者添加了那些特定的库，现在你知道吗？所有这些语言现在在很大程度上与未来的...互联网兼容。

### 24:01-Kelsey Hightower

因此，我认为现在个人有更多的控制权，如果他们希望他们的语言与新用例相关，只需自己贡献那个功能。所以我们不再受限于一两家公司。如果公司倒闭，那么运行时可能会随之消亡。我们现在不再面临这个问题。

### 24:23-Saron Yitbarek

我们在这个播客上之前说过。未来是开放的。但令人着迷的是，考虑到在接下来的几十年中，过去也将是开放的。他们将继承能够变形和演变的基础设施和语言。

### 24:39-Kelsey Hightower

太棒了，感谢您的邀请，我期待着人们的表现，而大型主机仍然是相关的。因此我们不称之为遗留技术，这些是经典技术。

### 24:47-Saron Yitbarek

哦，我喜欢这个，经典，非常不错。

### 24:51-Saron Yitbarek

Kelsey Hightower是谷歌的开发者倡导者。

### 24:57-Saron Yitbarek

我想象一个充满经典编程语言的未来，还有一些新语言，甚至还没有诞生。这是一个让我感到兴奋的未来。

### 25:07-Speaker

请站在关门的地方。

### 25:12-Saron Yitbarek

你知道，在2017年，安德鲁·库莫州长宣布纽约市地铁进入紧急状态。他的政府拨款90亿美元投资于老化的基础设施。这应该提醒我们，迟早我们必须照顾我们继承的系统。你不能只是一味向前冲，去迎接未来的任何事物。你必须把过去带在身边。

### 25:37-Saron Yitbarek

在开发的世界里，我们往往偏向未来。我们认为我们的语言只在当下有用，当它们是热门的新事物时。但是，随着信息基础设施的不断老化，开发的历史变得越来越真实。事实证明，过去并不是真正的过去。记住这一点是我们的责任。

### 26:05-Saron Yitbarek

你可以通过访问redhat.com/commandlineheroes来了解更多关于COBOL、Go或我们本季涵盖的任何语言的信息。那里有很多精彩的额外材料在等着你。

### 26:19-Saron Yitbarek

下一集将讨论Bash。我们将探索shell脚本的起源，以及自动化的关键。

### 26:30-Saron Yitbarek

《命令行英雄》是红帽公司出品的原创播客。我是Saron Yitbarek。下次再见，继续编码。
