# 关于 DevSecOps 的一集

不良的安全和可靠性实践可能导致影响数百万人的停机。现在是让安全性融入 DevOps 运动的时候了。在 DevSecOps 的世界里，我们可以通过创造性的方法来改善安全性。

每月发现一个漏洞曾经是常态。如今，得益于敏捷流程和 DevOps 团队，软件开发变得迅速。Vincent Danen 告诉我们，这导致了被视为漏洞的数量急剧增加。前亚马逊灾难管理大师 Jesse Robbins 解释了公司如何为灾难性故障和安全漏洞做好准备。Josh Bressers，Elastic 的产品安全负责人，展望了技术安全的未来。

我们不能把安全团队当作愤怒的怪物。听听 DevSecOps 团队如何将英雄们聚集在一起，以实现更好的安全性。

### 00:01-House subcommittee representative

1991年6月26日，华盛顿特区、大部分马里兰州和西弗吉尼亚州，我的家乡大部分地区因公共电话网络的重大故障而瘫痪。然而，随着技术变得越来越复杂，网络系统之间的相互依赖性不断增加，重复故障的可能性也在上升。这并不是说没有警告会发生这样的事情。

### 00:23-Saron Yitbarek

在1990年代初期，1200万美国人遭遇了大规模的电话网络故障。人们无法拨打医院的电话。企业无法联系客户。父母无法联系他们的托儿所。那是混乱的时刻，也是一个严重的警钟，警醒了一个基础设施严重依赖于计算机系统的国家，而这些计算机系统将一切联系在一起。那些计算机网络变得越来越庞大，而当它们崩溃时，是的，它们崩溃得很彻底。

### 01:01-Saron Yitbarek

一次计算机故障导致了电话系统崩溃。这行代码中的微小错误，如今类似的小错误的后果比以往任何时候都要严重。

### 01:15-Saron Yitbarek

我是 Saron Yitbarek，这里是 Command Line Heroes，来自 Red Hat 的原创播客。

### 01:24-Saron Yitbarek

因此，软件安全性和可靠性变得比以往任何时候都重要。过去那种将安全性仅仅附加在开发末尾的瀑布式开发方法，现在已经行不通了。我们生活在一个 DevOps 的世界，一切都在更快、更灵活，以以前无法想象的方式进行扩展。这意味着我们的安全性和可靠性标准必须发展，以应对这些挑战。

### 01:55-Saron Yitbarek

在这一集中，我们将探讨如何将安全性融入 DevOps，同时探索在运营中构建可靠性和弹性的新方法。即使在覆盖了这些内容后，我们知道还有很多我们可以讨论的，因为在 DevSecOps 的世界中，无论对开发者还是运维人员来说，事情都在快速变化。这些变化意味着不同的东西，取决于你所处的位置，但这是我们的看法。我们也很想听听你的看法——如果你觉得我们遗漏了什么，请不要害羞——在网上联系我们。

### 02:34-Saron Yitbarek

好了，让我们深入探讨并开始探索这个全新的领域。

### 02:43-Saron Yitbarek

事情是这样的，要使安全性和可靠性跟上进度，为 DevOps 世界做好准备，意味着我们必须对工作方式进行几项关键调整。第一，我们必须拥抱自动化。想想两步验证的后勤工作。考虑一下这项几乎不可能完成的巨大任务。显然，你不可能通过增加更多的员工来解决问题，所以第一步是拥抱自动化。

### 03:15-Saron Yitbarek

然后，第二点，这一点可能不太明显，实际上是改变文化，使安全性不再是一个可怕的存在。我稍后会解释我所说的文化改变的意思，但我们先逐步解决这两个步骤。首先，拥抱自动化。

### 03:42-Saron Yitbarek

曾几何时，应用程序部署在每次发布之前都涉及人工驱动的安全审核，而我不知道你是否注意到了，但人类的反应速度有时候确实比较慢。这就是为什么自动化在将安全性融入 DevOps 中如此重要。以最近的一份来自 Verizon 的数据泄露报告为例。他们发现，81% 的与黑客相关的泄露事件涉及被盗或弱密码，而这表面上看似一个非常简单的问题。但这是一个在巨大规模上出现的简单问题。正如我之前提到的，你无法通过增加人手来解决 3000 万个密码问题，对吧？关键在于解决规模问题，那种巨大的规模，而答案每次都是一样的。就是自动化，自动化。

### 04:36-Vincent Danen

如果你等人来介入，这就无法扩展。

### 04:41-D20 Babes player 2

Vincent Danen 是 Red Hat 的产品安全总监，在他 20 年的工作生涯中，他目睹了 DevOps 创造了一个越来越快速的环境。安全团队不得不急忙跟上。

### 04:56-Vincent Danen

当我刚开始时，每月只有一个漏洞，然后变成每两周一个，接着每周一个，而现在，我们实际上每天发现数百个这样的漏洞。

### 05:08-Saron Yitbarek

有趣的是，Vincent 说，随着安全团队的演变，实际上出现的漏洞数量在增加，而不是减少。

### 05:17-Vincent Danen

我们永远无法达到“哦，我们现在安全了，我们完成了”的程度。我们的工作将永远存在。这就像呼吸一样，必须变得正常。

### 05:27-Saron Yitbarek

事实证明，对安全和可靠性团队来说，什么算作问题变得越来越细致入微。

### 05:35-Vincent Danen

当我们寻找这些问题时，我们发现的漏洞越来越多，这一趋势会继续下去，因为你会发现新的漏洞类别，以及一些我们可能认为不重要或甚至不知道其存在的东西。我们对这些问题的发现速度越来越快，而且数量也在增加。因此，规模在某种程度上爆炸了。这是知识、软件的体量、消费者的数量，所有这些因素都促进了这一领域安全性及其漏洞的增长。

### 06:06-Saron Yitbarek

一旦你将安全性视为一个不断演变的问题，而不是一个随着时间“解决”的问题，那么对自动化的需求就会更加强烈。

### 06:18-Vincent Danen

我认为，通过自动化，你可以以非常快速的方式将这些东西集成到开发流程中。其次，你不需要人来完成这项工作，对吧？计算机不需要睡觉，因此你可以根据处理器的处理能力尽快处理代码，而不是等待人类去仔细检查一些可能相当繁琐的代码行，以寻找漏洞。

### 06:44-Vincent Danen

通过模式匹配和启发式分析，你甚至可以在编写代码时确定哪些是易受攻击的。因此，如果你有一个插件，像是用于你的 IDE 或者你用来编写代码的工具，它可以在你写代码时告诉你，“嘿，这看起来有点可疑”，或者“你刚刚引入了一个漏洞”，你可以在提交代码之前就修正这些问题。

### 07:08-Saron Yitbarek

安全性随时随地。这是一个巨大的优势。

### 07:12-Vincent Danen

每天、每小时都有大量的新东西出现。通过持续集成和持续交付，你编写的代码会在 10 分钟后被部署。因此，在代码被推出之前，自动验证代码是非常关键的。

### 07:32-Saron Yitbarek

我们可以使用一系列工具来完成这项工作，无论是静态代码分析、IDE 插件，还是其他多种选择。我们将在本集的节目说明中分享一些我们最喜欢的工具，访问 redhat.com/commandlineheroes。

### 07:53-Saron Yitbarek

一旦我们建立了这些工具，它们就会帮助我们时刻关注安全性。结果，DevOps 被重新定义为 DevSecOps。安全性被融入到整个过程之中。

### 08:08-Vincent Danen

就像开发人员和运维人员的结合一样，你将这两个学科结合在一起生成一个新的学科。现在你有了 DevOps，而将第三个组件——安全性，与开发和运维整合在一起，我认为这非常重要，因为将安全性视为事后考虑使得安全性变得反应迟缓、昂贵，并对消费者造成潜在的损害。当你在一开始就将安全性融入其中，开发就在从头到尾都有安全性的保障，并且运维工作也得到了加强。

### 08:44-Saron Yitbarek

当然，正如我们在本集开头提到的，自动化实际上只是更大整体的一部分，而 Vincent 也意识到了这一点。

### 08:53-Vincent Danen

这不仅仅是一个部分。你不能仅仅在你的 CI/CD 流水线中扔进一个工具就指望一切都好。为了实现我们想要的最终有益结果，需要一整套不同的技术、技术手段和行为。

### 09:15-Saron Yitbarek

自动化确实能帮助我们走出一部分，但我们还必须记住另外一个部分——那一部分稍微模糊的部分。跟我一起说，文化部分，让开发者和运维人员都能够融入其中，以便这些问题不再是可怕的存在。

### 09:33-Saron Yitbarek

我们必须改变文化，一些人正在学习以尽可能不痛苦的方式来做到这一点，通过游戏来实现。

### 09:44-Saron Yitbarek

现在让我们转向运维方面。如今，建立庞大的基础设施是如此简单，但这并不意味着我们应该做粗糙的工作。我们仍然应该对我们的系统进行严格测试，确保可靠性，找出如何应对意外情况。这正是 Jesse Robbins 努力带来的思维方式。

### 10:08-Saron Yitbarek

今天，Jesse 是 Orion Labs 的首席执行官，但在此之前，他在亚马逊被称为“灾难大师”。在他任职期间，Jesse 几乎是一个巫师，让每个人至少意识到这些问题。他通过一种叫做“游戏日”的方式来做到这一点。这些活动可以让数千名员工进行灾难场景演练，习惯于事情崩溃的想法，并深入了解原因和过程。

### 10:39-Saron Yitbarek

这是 Jesse 和我讨论的内容，特别关注如何将可靠性和弹性融入运维方面。

### 10:47-Saron Yitbarek

非常酷。那么你以许多事情而闻名，其中之一就是你在亚马逊所做的游戏日练习。那是什么？游戏日是什么？

### 10:58-Jesse Robbins

游戏日是我创建的一个程序，旨在通过在大规模上破坏事物来测试最脆弱系统的操作准备性。所以，如果你喜欢 Netflix 等人所称的混沌猴子（Chaos Monkey），游戏日就是我程序的名称，确实比那些更早。它非常专注于建立操作卓越的文化，构建在系统出现故障时以大规模测试系统的能力，学习它们是如何失败的，以便改进它们。同时也培养一种能够应对和从事件和情况中恢复的文化。这一切都以事件指挥系统为模型，这就是全球消防部门用来处理各种规模事件的方式。

### 11:56-Jesse Robbins

这一切的起源是……

### 11:58-Saron Yitbarek

一个疯狂的旁注，Jesse 在 2005 年接受了消防员培训。在那里，他学习了最终启发游戏日的事件指挥系统。所以，所有在外面进行这些灾难场景演练的开发者，你们要感谢 Jesse 对消防和紧急管理的热情。好吧，回到我们的聊天。

### 12:22-Jesse Robbins

弹性是指一个系统的能力，包括人和那些人所构建的事物，能够适应变化，响应故障和干扰。构建这种能力的最佳方法之一——建立能够响应这些环境的文化，并真正理解它们如何运作——就是为人们提供训练演习。这些演习可以简单到重启服务器，也可以复杂到通过关闭整个数据中心来注入大规模故障，或者介于二者之间的任何事情。因此，游戏日首先是一个过程，你准备某个事情，聚集整个组织，讨论系统如何失败，并思考人们对失败的预期。这个演习本身通常是游戏日开始时最有价值的部分之一。

### 13:24-Jesse Robbins

然后，你实际上会进行一次演习，破坏某些东西。可能是一些大问题，也可能是一些小问题，可能是一些经常会出现的问题。当你这样做时，你能够研究每个人的响应，了解哪些地方可以进行调整。你可以看到系统崩溃，这可能是一些安全的破坏，一个被充分理解的组件，或者它可能会暴露出我们称之为潜在缺陷的问题。这些问题隐藏在软件、技术或大规模系统中，只有在发生极端或意外事件时我们才能发现。它的真正目的是训练人们并构建系统，让你理解它们在压力和紧张状态下的工作方式。

### 14:12-Saron Yitbarek

所以，当我听到游戏日，我会想，“这是对某个特定事件的回应吗？它的灵感来自哪里？”

### 14:20-Jesse Robbins

游戏日在一个时期开始，那时我知道由于我的角色和作为消防员和应急管理人员的独特背景，改变文化方法的重要性在于不再专注于预防失败，而是拥抱失败，接受失败会发生。部分灵感来自我的个人经历，了解系统、建筑物如何失败、公共基础设施如何失败、灾难如何发生以及这对人们的压力。并且说，如果我们看一下我工作场所的复杂性和操作规模，我们唯一真正能够建立和改变，成为一个高可靠性、始终在线的环境的方法，就是完全拥抱消防服务的方法。我们知道失败会发生。这不是是否会发生的问题，而是何时会发生的问题。正如我以前的消防队长所说，你不能选择时刻，时刻选择你。你只能选择当时你的准备程度。

### 15:28-Saron Yitbarek

哦，这是个好问题。当你第一次开始进行游戏日，并考虑如何为灾难场景做好准备时，大家都支持吗，还是有些反对意见？

### 15:40-Jesse Robbins

每个人都觉得我疯了。所以确实有人对此表示抵制。有趣的是，有一个非常简单的方法可以克服这种抵制，那就是首先创建我所称的“冠军”。你想要教会一小群人如何以非常安全的方式工作，然后给他们一些曝光机会，然后使用一套指标来衡量，比如说，让我们测量一下停机时间是多少分钟，我的团队有多少分钟的停机时间，接受了这种训练并以这种方式操作。与我不知道的、没有这种训练且似乎认为进行这种训练和演习没有价值或不重要的团队相比。

### 16:25-Jesse Robbins

一旦你这样做，你基本上会得到我所称的引人注目的事件。所以，通常会发生一次停机或其他事情，组织会突然而清晰地意识到，“哦，我的天，我们不能再以以前的方式做事了。”这成为你克服怀疑者的方法。你结合数据和性能信息以及指标，再加上精彩的故事讲述，然后你等待那个大的、可怕的事件发生，你就可以说，如果我们要以网络规模或互联网规模运营，整个组织都需要这种能力。

### 17:06-Saron Yitbarek

嗯嗯（肯定）。我喜欢的是，这不仅仅停留在亚马逊。它传播开来了。很多其他公司也在做这件事。许多人最终接受了这种知识和过程，以做好准备。接下来是什么？我们如何继续将游戏日的知识延续到未来的项目和公司中？

### 17:31-Jesse Robbins

我喜欢把这称为趋同进化。现在，每个在网上运营的大型组织都采用了我所倡导的事件管理基础的一个版本，并创建了自己的游戏日测试。你知道，Netflix 称之为混沌猴子，而谷歌则有他们的 Dirt 计划。

### 17:57-Saron Yitbarek

那么，你对游戏日的未来有什么期望和梦想？

### 18:00-Jesse Robbins

我首先感到兴奋的是，我们现在看到这种演变，从思维的孤岛和将系统视为不相连的思维，转变为将系统视为根本相互连接、相互依赖的，而这些系统是由世界各地的聪明人构建和运营的，他们努力做伟大的事情。

### 18:22-Jesse Robbins

多年前，当我开始的时候，关注操作是一片冷门。那是一个不有趣的地方。突然间，我们发现自己能够传播开发人员和运营人员共同合作是有意义的技术在互联世界中构建和运行的唯一方式这一理念。

### 18:44-Jesse Robbins

所以我对未来的希望首先是，越来越多的人开始接受这些理念并学习它们。明白当你构建某些人依赖的东西时，你有责任确保它是可靠的、可用的、可信赖的，是人们可以作为日常生活一部分使用的东西。

### 19:05-Jesse Robbins

同时我们也看到一种新学科的出现。它正在被研究，博士论文也在写。它正在不断发展。

### 19:16-Saron Yitbarek

太棒了。

### 19:16-Jesse Robbins

有书籍在撰写，有很多新资源，这些资源不仅仅是几个人在会议上讨论他们认为世界应该如何运作。所以我所抱有的激励希望是，如果你在构建人们使用的软件和技术，你实际上是成为了市民基础设施的一部分。因此，我作为消防员为技术所贡献的技能，以及现在正在发展并将这一点推向更远的技能，都是构建人们日常依赖的事物的基础。

### 19:53-Saron Yitbarek

非常好。这是一个很好的结尾方式。非常感谢你，Jesse，感谢你的时间。

### 19:56-Jesse Robbins

是的，谢谢你。

### ~~11:59-Saku Panditharatne~~

### 19:59-Saku Panditharatne

我认为所有这些因素都妨碍了最佳软件的采用。

### 20:02-Saron Yitbarek

在Jesse的愿景中，像游戏日或混沌猴子这样的演习是我们科技文化成熟的重要组成部分，但它们对于整个社会来说也至关重要。我喜欢他把赌注抬得这么高，因为他说得对。我们的世界依赖于我们所做的工作。这一点在90年代电话网络开始崩溃时就已经显而易见。

### 20:26-House subcommittee representative

现代生活几乎陷入停顿。

### 20:31-Saron Yitbarek

这背后有一种责任感。那就是关心安全性和可靠性，以及我们所构建事物的韧性。当然，在 DevOps 中构建安全性方面，我们才刚刚起步。

### 20:53-Saron Yitbarek

这是 Josh Bressers。他是一个名为 Elastic 的数据搜索软件初创公司的产品安全负责人。对 Josh 来说，尽管计算机行业已经发展了大约半个世纪，但我们在这里讨论的安全性似乎刚刚进入正轨。

### 21:11-Josh Bressers

实际上，我会说作为一个职业，安全性仍然是非常新的，还有很多事情我们并不理解。

### 21:19-Saron Yitbarek

不过，我们确实理解一些事情，在 DevSecOps 的世界里，有一些相当不错的机会，可以创造性地思考安全性能实现什么。

### 21:29-Josh Bressers

我最近和一个人谈到一个概念，他们使用用户行为来决定用户是否可以访问系统。每个人都有特定的行为，比如他们的来源、访问系统的时间、打字的方式、鼠标移动的方式。所以他们实际上是其中一个地方，如果我们能做好这一点，可以取得非常强大的成果，我们可以关注某人在做什么。假设我表现得很奇怪，你知道我很奇怪，因为我刚扭伤了手腕，但另一端的人并不知道。

### 22:05-Josh Bressers

所以，它可能会说，好吧，有些奇怪，我们希望你通过双因素认证登录，并且我们也会给你发一条短信或其他东西，对吧？因此，我们就从基本的用户名和密码转变为更有趣的东西。所以我认为，从新的独特角度看待这些问题将是关键。在许多情况下，我们还没有达到这个水平。

### 22:27-Saron Yitbarek

要实现这一目标，需要我们之前描述的两个重要步骤。第一步是自动化，这一点至关重要，因为...

### 22:35-Josh Bressers

人类在反复做同样的事情时是很糟糕的。

### 22:38-Saron Yitbarek

说得对。那么接下来是第二步，文化，每个人都与安全性和责任相关，无论我们的职位名称如何。

### 22:49-Josh Bressers

当大多数人想到安全团队时，他们并不认为这是快乐友好的人，对吧？通常来说，安全团队给人的印象是可怕、脾气差、令人厌烦的人，如果他们出现，肯定会毁掉你的一天。没有人想要这种情况，对吧？

### 23:10-Saron Yitbarek

但我认为我们可以克服这种偏见，因为我们必须这样做，想象一下——每天都有更多的安全威胁，而 IT 基础设施也在不断增长和增强。把这两个事实结合在一起，你就会发现必须生活在一个安全性被重视的世界里。一个真正的 DevSecOps 世界，开发人员和运维人员都在提升他们的安全性和可靠性水平。我所谈论的是一个未来，自动化融入每一个阶段，大家对这些问题的态度变得更加全面。这就是我们将如何保持明天系统的安全。这就是我们将如何保持电话畅通，灯光亮起，让现代生活健康而强大。如果你查看福布斯的全球 2000 家组织榜单，发现其中四分之一的公司已经接受了 DevOps。综合敏捷工作场所正在成为主流。在不久的将来，以 DevSecOps 的思维方式可能会变得自然而然。我们希望尽可能快，但实际上，团队每个部分一起参与的长远发展才是更快的。

### 24:40-Saron Yitbarek

下一集，我们将面临数据爆炸。人类已经进入了 Zettabyte 时代。到 2020 年，我们将在大多数尚不存在的服务器上存储大约 40 个 Zettabytes 的信息。但我们该如何让所有这些数据发挥作用？我们如何利用高性能计算和开源项目来使数据为我们工作？在《Command Line Heroes》第六集中，我们将揭晓答案。

### 25:13-Saron Yitbarek

还有一个提醒，在整个季节中，我们正在进行《Command Line Heroes: The Game》。这是我们自己的开源项目，我们很高兴看到它的逐渐成型，但我们需要你来帮助我们完成。如果你访问 redhat.com/commandlineheroes，你可以了解如何贡献。同时，你还可以更深入地了解我们在本集讨论的任何内容。

### 25:39-Saron Yitbarek

《Command Line Heroes》是 Red Hat 的原创播客。可以在 Apple Podcasts、Google Podcasts 或其他你喜欢的平台上免费收听。我是 Saron Yitbarek。下次再见，继续编码。
