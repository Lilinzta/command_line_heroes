# 更好地失败

失败是发现的心跳。我们在尝试新事物时经常会跌倒。关键在于不要追求快速失败，而是要学会“更好地失败”。

本集将探讨科技领域如何拥抱失败。以好奇心和开放的态度对待失败是我们工作流程的一部分。Jennifer Petoff 分享了 Google 如何从失败中建立起学习和改进的文化。随着观念的转变，Jessica Rudder 展示了如何通过接受错误来取得意想不到的成功。而 Jen Krieger 解释了敏捷框架如何帮助我们为失败做好计划。

失败不必是终点。它可以成为通向更大成就的一步。

## 00:00-Saron Yitbarek

听过这个笑话吗？两个工程师在编译他们的代码。新人举起双手欢呼：“Woo，我的代码编译成功了！” 老手眯起眼睛，嘟囔道：“嗯，我的代码编译成功了。”

## 00:18-Saron Yitbarek

如果你在编程的世界里待了一段时间，当你想到失败时，你的看法会有所改变。那些曾经看起来像是不可逾越的问题，开始看起来像是更大解决方案的一部分。而你曾经称之为“失败”的东西，开始看起来像是伪装的成功。

你期待你的代码不能编译成功。你期待在整个过程中进行尝试和实验，调试、修改和重构。

## 00:37-Saron Yitbarek

我是 Saron Yitbarek，这里是 Command Line Heroes，一档由 Red Hat 原创的播客。

那个“快速失败”的口号，说实话，通常被用作追求快速成功的捷径。但如果我们不是告诉彼此赶紧快速失败，而是鼓励彼此真正“更好地失败”，会怎么样呢？

## 01:20-Saron Yitbarek

Command Line Heroes 第二季讲述了开发工作中的真实体验，真实的感受，以及当我们置身于命令行中时，这种体验是如何展开的。这就是为什么我们要专门做一期关于如何应对失败的节目，因为正是这些失败的时刻推动我们去适应。我们称之为失败的那些东西，实际上是进化的心跳，而开源开发者正是拥抱了这种进化。当然，说起来容易做起来难。

## 01:59-Saron Yitbarek

想象一下：有一天人们发现了莎士比亚本人的一首全新十四行诗，瞬间引起了在线上的巨大关注。所有人都在谷歌搜索。但突然！一个小小的设计缺陷导致了所谓的“文件描述符耗尽”。这引发了一连串的故障，所有流量逐渐集中到越来越少的服务器上。很快，Google 上的莎士比亚搜索崩溃了，崩溃持续了一个多小时。

## 02:33-Saron Yitbarek

现在，你损失了12亿次搜索查询。这是莎士比亚级别的悲剧，而与此同时，网站可靠性工程师正手忙脚乱地试图补救。

## 02:45-Actor

“Et tu, Brute? Then fall, Caesar.” （你也背叛我，布鲁图？那我就倒下吧，凯撒。）

## 02:54-Saron Yitbarek

好吧，不得不告诉你，这个莎士比亚事件是虚构的。实际上，它是一本书里一系列灾难场景的一部分，这本书名叫《站点可靠性工程》。这本书传达的一个重要教训是，你必须超越灾难本身来看问题。我的意思是这样的：

## 03:13-Saron Yitbarek

在这个莎士比亚案例中，问题最终得以解决，是因为流量被转移到一个牺牲性的集群上，从而为团队赢得了足够的时间去增加容量。但这还不是终点。尽管这个问题很严重，解决它也不是重点。因为失败不必以痛苦告终，它可以带来学习的机会。

## 03:38-Jennifer Petoff

Hi, 我是 Jennifer Petoff。

## 03:41-Saron Yitbarek

Jennifer 在 Google 工作。她是 Google SRE（站点可靠性工程）团队的一名高级项目经理，并负责 Google 全球 SRE 教育项目。她也是那本描述莎士比亚场景的书的作者之一。对 Jennifer 来说，深入研究这些灾难是改善事物的方式，但前提是你要拥有一个接受错误和意外的文化。

## 04:08-Saron Yitbarek

再看看这个莎士比亚事故。表面上有一个简单的解决办法——负载卸载可以帮你避免这类级联故障。但真正的工作在于事后分析。

## 04:25-Jennifer Petoff

在事故解决后，会撰写一个事后分析报告。在 Google，每个事故都必须有事后分析报告，并包含相应的行动项，不仅是为了预防类似事故，还为了更有效地检测和缓解未来可能发生的类似事件或整个问题类别。

## 04:42-Saron Yitbarek

这就是一个关键的区别。事后分析不仅仅是解决特定的事故，还要从事故中了解它反映的一类问题。真正有效的事后分析，不仅告诉你昨天哪里出错了，还能让你对今天的工作以及未来的规划有新的见解。这种更广泛的思维方式让人们对所有的意外和失败充满敬畏，并使它们成为日常工作生活中不可或缺的一部分。

## 05:12-Jennifer Petoff

一个真正好的事后分析，不只是解决当前的单一问题，它会处理整个问题类别。而且事后分析会关注什么做得好、什么做得不好、我们在哪些地方侥幸躲过了风险，以及我们可以采取哪些优先行动来确保这种问题不再发生。如果你不采取行动，历史注定会重演。

## 05:32-Saron Yitbarek

在 Google，我们专注于“无责事后分析”，这点非常关键。当事情出错时，如果没有人被责怪，那么每个人都能坦诚地深入探讨错误，真正从中学习，而不用隐瞒事实或争吵。这种无责的事后分析已经成为 Google 文化中的重要部分，结果是，这里形成了一个不需要害怕失败的工作环境。失败成为了一种常态。

## 06:01-Jennifer Petoff

Google 如何看待失败？100% 的正常运行时间是不可能的目标——如果你认为可以实现，那就是在自欺欺人。所以，失败是必然的，只是时间和方式的问题。在 Google，失败是被庆祝的，因为我们可以从中学习，事后分析报告会在团队之间广泛分享，以确保学到的东西能够被广泛应用。

## 06:23-Jennifer Petoff

失败是不可避免的，但你绝不希望以同样的方式失败两次。犯错是人之常情，但一再犯同样的错误则是我们要尽量避免的。

## 06:34-Saron Yitbarek

听到 Jennifer 这样谈论失败真的很有趣，因为她似乎是在主动迎接这些错误。就像，当事情出错时，这意味着你已经到达了一个可以从中挖掘价值的地方。

## 06:50-Jennifer Petoff

你会在实时处理问题，但在事后花时间写下发生的事情，这样其他人也可以从中学习。任何事故发生时你都要付出代价，如果你不写事后分析并从经验中学习，你就没有办法重新获取那部分损失。我认为这是一个重要的教训。我们在 Google 非常坚信无责文化。责备他人不会让你得到任何好处，反而只会让人们掩盖失败，而无论如何，失败是一定会发生的。

## 07:27-Saron Yitbarek

这里有一点非常重要，就是要记住 Jennifer 之前说过的——无错工作是一种幻想。总会有事情出错。归根结底，这是一个思维方式的转变。我们可以抛开那个一切最终如我们所愿的、单一且明确的终点目标。实际上，并不存在一个我们试图到达的“那里”。但这反而是一个非常强大且积极的事情。

Google 鼓励接受失败是非常合理的，也非常务实。但我想知道，这是否只是说说而已？我们有没有一些具体的例子，证明失败确实让事情变得更好，还是这只是我们在第 200 次按下编译键时，用来让自己感觉好一点的借口？

## 08:26-Saron Yitbarek

事实证明，有人可以回答这个问题。

## 08:29-Jessica Rudder

我是 Jessica Rudder，我是 GitHub 的一名软件工程师。

## 08:33-Saron Yitbarek

Jessica 在 GitHub 经历了许多失败。在某种意义上，GitHub 是一个“失败竞技场”，在这个过程中，她收集了一些关于失败如何成为成功之门的故事。比如这个：

## 08:50-Jessica Rudder

有一家游戏开发公司在 90 年代正在开发一款全新的游戏。本质上，这是一个赛车游戏，但他们的创新点是，它会设置成街头赛车。所以，当赛车手在街道上竞速时，他们不仅是在和彼此比赛，还会有 NPC（非玩家角色）的警车追赶他们。如果一辆警车抓住你，它就会把你拦下来，你就会输掉比赛。于是他们把代码编好了，开始运行。结果发现，他们完全错误地调整了算法，警车并没有追逐玩家的车辆，而是直接从小巷里冲出来，狠狠地撞上玩家。

## 09:37-Jessica Rudder

场面一片混乱。但他们没有惊慌失措，而是决定，先看看玩家对这个版本的反应，这样他们就知道该如何调整算法。于是他们把这个版本发给了游戏测试员。结果发现，测试员们觉得，逃避这些“疯狂的”警车、躲避被抓住的过程，比单纯的赛车比赛要有趣得多。事实上，这个过程太有趣了，以至于开发团队完全改变了他们设计游戏的概念。

## 10:17-Saron Yitbarek

你能猜到接下来发生了什么吗？

## 10:21-Jessica Rudder

这就是我们最后得到了《侠盗猎车手》的原因。这个游戏如今是有史以来销量最好的电子游戏系列，而它的存在完全是因为当他们的算法失败时，他们想，‘好吧，让我们试试看吧，看看我们学到了什么。’

## 10:41-Saron Yitbarek

有点不可思议，对吧？但关键在于，《侠盗猎车手》团队在面对失败时保持了开放的心态，他们没有拒绝学习，而是保持了好奇心。

## 10:52-Jessica Rudder

如果那些开发人员当时没有保持开放的心态，决定从这个错误中学点什么，我们就不会有《侠盗猎车手》，而只会得到一个普通、毫无亮点的街头赛车游戏。

## 11:07-Saron Yitbarek

让我们继续围绕游戏这个主题聊一会儿。当《寂静岭》在制作时，也发生了类似的事情。这是一个非常大的 AAA 级游戏，顶级制作，但他们遇到了严重的弹出问题。地形的一部分没有被及时渲染，突然之间你会看到一堵墙或一条路凭空出现。这是一个致命的问题，而且他们的开发周期已经接近尾声。所以他们该怎么办？彻底废弃这个游戏？放弃吗？还是拥抱这个问题？

## 11:42-Jessica Rudder

他们的做法是用一种非常浓密、诡异的雾气填充了整个世界。因为事实证明，雾气对处理器来说非常容易渲染，不会产生延迟。此外，雾气还能防止玩家看得太远，所以实际上那些建筑物仍然在弹出，只是你看不见，因为雾气挡住了视线。当建筑物进入视野时，它们已经渲染完毕，看起来就像是从雾中冒出来的。

## 12:15-Saron Yitbarek

这片雾气后来变得非常受欢迎，甚至被认为是《寂静岭》系列中的另一个角色。它通过限制玩家的视野使游戏变得更加恐怖。即使后来处理器的速度已经足够快，不再需要用雾来掩盖弹出问题，他们依然保留了雾气。

## 12:33-Jessica Rudder

你不能想象没有雾气的《寂静岭》。而所有这些雾气，一开始只是用来掩盖一个错误的。

## 12:40-Saron Yitbarek

我太喜欢这个例子了！他们通过拥抱失败而不是逃避失败，拯救了一项重要的开发工作。而这个关于不要害怕失败的原则，不仅适用于公司的大决策，也适用于那些小小的、个人的事情。冷静面对失败，这是我们逐步变得更好的方式。

## 13:01-Jessica Rudder

很多时候，人们会陷入自己的思维误区，认为失败就意味着自己在某方面不行。比如说，我不会修这个代码，而不是，我暂时还不知道怎么修这个代码。这就像“我不会写 JavaScript。”你永远无法通过说“我不会写 JavaScript”来学会它。但如果你能具体识别出问题，比如“我不知道如何让这个循环在 JavaScript 中工作”，那么你就有了可以 Google 的内容，找到了答案，它就会完美运行。当然，你仍然会遇到困难，但这些困难会少得多。

## 13:36-Saron Yitbarek

所以，我们的错误推动了我们向更大的目标前进，那些实验、那些失败、那些英勇的尝试构成了我们大部分的旅程，不管你是一个新开发者，还是一个大公司负责人。在我所了解和热爱的开源社区中，这种现象尤为明显。失败在开源中可以是一件美好的事情，而这正是我们接下来要讲的故事。

## 14:14-Saron Yitbarek

我们之前提到过，正确处理失败可以带来意想不到的惊喜，甚至是我们之前没想到要尝试的东西。而在最佳状态下，开源开发文化正好击中了这个要点——它让失败成为一件可以接受的事情。为了更好地理解这种对失败的包容如何融入开源开发，我采访了 Jen Krieger。她是 Red Hat 的首席敏捷架构师。我们聊了聊开源中对失败的态度，以及这些态度如何塑造了可能性。听听她的看法：

## 14:47-Saron Yitbarek

我想谈谈这个口号，可能称它为“信条”比较合适。"快速失败，打破陈规" 这句话几乎成了我们社区的战斗口号。你怎么看待这句话？

## 15:04-Jen Krieger

我对此有很多想法。

## 15:06-Saron Yitbarek

我想也是。

## 15:06-Jen Krieger

快速失败，向前失败，快速调整——所有这些词语。为了提供一点背景，在我职业生涯的早期，我曾在一家不容许失败的公司工作。如果你做错了什么，你就会让唯一的应用程序崩溃。那里根本没有任何空间让人犯错。而这种文化观念真的让人压力倍增，导致我们进入了一种文化运动，可以说，最终催生出了“敏捷”这个词，还有“DevOps”。当我看到这些词语时，我看到的其实是：我们只是在让团队进行一系列非常小的实验，这些实验帮助他们及时调整方向。

## 16:02-Jen Krieger

这就是，你做了一个选择，而这个选择本身其实是积极的。你可能会做出一个有风险的决定，如果你赢了，那是因为你做了正确的决定。或者，另一种情况是，你做了错误的决定，现在你知道这不是正确的方向。

## 16:18-Saron Yitbarek

嗯，挺有道理的。所以当你认为“快速失败、打破陈规”是一个运动时，感觉好像还有一些结构和最佳实践来指导如何正确地失败。有哪些最佳实践和原则可以帮助我们最终以一种好的方式失败呢？

## 16:44-Jen Krieger

我总是喜欢告诉工程师们，他们需要尽早并且频繁地让构建失败。如果他们知道自己的构建失败了，他们就有机会在那个时刻去修复它。这一切都围绕着反馈循环的概念，确保你在工作中收到的反馈循环尽可能短。

## 17:08-Jen Krieger

在开源开发中，我提交一个补丁，有人会说：“我不接受你的补丁，原因有以下九条，” 或者说：“我觉得你的补丁很棒，继续吧。” 又或者，你提交了一个补丁，结果一个机器人告诉你它失败了，因为它没有正确构建好。这些都是不同类型的反馈。

## 17:25-Jen Krieger

在开源开发中，你也可能遇到更长的反馈循环。比如说你想设计一个新功能，但你不确定所有的规则应该是什么，于是你会问：“有人能帮我设计吗？” 这时你会进入一个漫长的过程，进行详细的讨论，大家一起参与，最终提出最好的方案。

## 17:45-Jen Krieger

所以有各种各样的反馈循环，帮助你完成任务。

## 17:50-Saron Yitbarek

Jen 认为这些反馈循环可以因公司而异。它们是可定制的，人们可以用 100 种不同的方式来让它们起作用。但重点是，她甚至不把这些称为失败或错误，她称它们为“反馈循环”。这是一种有机的系统，是一种非常健康的思维方式。

## 18:11-Saron Yitbarek

与此同时，有一种对待这些小问题的态度会产生完全相反的效果。

## 18:18-Jen Krieger

有些组织做的事情，完全是错误的。

## 18:23-Saron Yitbarek

嗯嗯（肯定）。

## 18:24-Jen Krieger

拥有你的领导团队，或者在很高层面上，组织认为通过羞辱人们做错事情，或者在绩效结果上施加恐惧，比如“如果你做不好工作，你就得不到奖金”或者“如果你做不好工作，我会把你放在绩效计划上”。这些都是创造敌意的因素。

## 18:50-Saron Yitbarek

她所描述的是一种失败的失败。没有去拥抱失败可能带来的好处。她也在呼应 Jennifer Petoff 的态度，对吧？关于无责备的事后分析的想法，我们在这一集开头听到过。

## 19:07-Saron Yitbarek

是的，这很有趣。就像如果我们在一起工作时稍微严格一点，或者更有意识，更有目的性地进行合作，我们就几乎被迫变得更擅长处理自己的失败。

## 19:23-Jen Krieger

没错。已经有一些公司早就学到了这一点，丰田就是一个完美的例子，它以一种我很少在其他公司看到的方式拥抱持续学习和改进的概念。任何人在任何时候都可以指出某个地方运行不正常。无论他们是谁，处于公司什么级别，这在他们的文化中都是被理解和接受的。这样的持续学习和改进的环境，我认为是应对失败并允许其发生的最佳实践之一。

## 20:06-Saron Yitbarek

嗯嗯（肯定）。是的。

## 20:07-Jen Krieger

如果你在询问事情为什么不顺利，而不是指责或试图掩盖问题，或责怪他人没有做好事情，那么这就会创造出完全不同的局面。改变了谈话的方式。

## 20:23-Saron Yitbarek

有趣的是，你之前提到“快速失败与打破事物”的口号是一种文化，是对过去做事方式的反击。但听起来这个口号也创造了不同的团队工作方式，尤其是在公司内，尤其是在技术团队中。能多告诉我一点吗？这改变了开发者如何看待自己的角色，以及他们如何与公司其他人互动。

## 20:55-Jen Krieger

我早期与工程师合作的情况几乎是，工程师们都坐在一个小区域，他们只相互交流。实际上他们从未真正与业务人员互动，也从未真正理解他们的需求。我们花了很多时间专注于他们为成功所需的东西，而不一定是业务实际上需要的东西。所以这更像是“作为工程师，我需要什么才能编码这个功能？”而我现在在几乎每个团队中观察到的情况是，谈话的焦点显著转变，不再是“作为工程师我需要什么才能完成我的工作”，而是“客户需要什么，或者用户需要什么，才能让他们感到我正在开发的这个功能是成功的？他们如何使用这个产品？我能做什么来让他们更容易？”

## 21:56-Jen Krieger

很多谈话发生了变化，我认为这就是为什么公司今天在交付技术方面做得更好。我还要说，发布的速度越快，我们就越容易知道我们的假设和决策是否真的成立。因此，如果我们对用户可能想要的东西做出假设，以前我们不得不等待一年到两年的时间才能真正发现这是否真实。

## 22:25-Jen Krieger

现在，如果你看看亚马逊或奈飞的模式，他们每天发布数百次关于客户想要什么的假设。他们从使用其应用程序的用户那里获得的反馈，将告诉他们是否正在满足用户的需求。

## 22:46-Saron Yitbarek

是的，听起来这需要更多的合作，因为你之前给的建议，即构建时常打破构建，频繁打破。这种做法实际上需要工程团队或开发人员与 DevOps 更加步调一致，对吧？以便于他们打破构建，并查看如何早期和频繁地进行发布。这听起来确实需要两者之间更多的合作。

## 23:15-Jen Krieger

是的，这总是让人感到有趣，尤其是对于那些拥有敏捷教练头衔的人，或者像我这样的首席敏捷架构师，因为敏捷宣言的最初意图就是让人们以不同的方式思考这些事情。我们通过实践和帮助他人实践来发现更好的软件开发方式。这确实是敏捷的核心、心脏和基础。所以，如果你快进到 10 年、15 年以上，再加上 DevOps 的到来以及我们坚持持续集成和部署的要求，我们开始以不同的方式思考将代码抛给墙的行为。

## 23:56-Jen Krieger

所有这些东西实际上是我们在最初开始讨论敏捷时应该思考的事情。

## 24:03-Saron Yitbarek

嗯嗯（肯定）。绝对如此。因此，无论人们如何实施这种失败的想法，我认为我们都可以同意，接受失败、将失败常态化是这个过程的一部分，是我们需要做的事情，是我们可以管理的事情，我们也许可以以“正确的方式”做到这一点，这都是好的。它为开源带来了一些好处。告诉我接受失败作为这个过程一部分的新运动、新文化的一些好处。

## 24:36-Jen Krieger

观看这个过程发生是件美好的事情。看到某人从非常害怕可能发生的事情，转变为一个能够尝试实验、成长并尝试找出可能正确答案的地方，真的是太好了。这就像他们在绽放。他们的士气提高了，他们实际上意识到自己能够掌控自己的事情。他们能够为自己做决定，而不必等待别人为他们做决定。

## 25:05-Saron Yitbarek

失败即自由。啊，我喜欢！Jen Krieger 是红帽公司的首席敏捷架构师。

## 25:19-Saron Yitbarek

并不是所有的开源项目都能像 Rails、Django 或 Kubernetes 那样获得声名和成功。事实上，大多数并不成功。大多数都是小型项目，只有一个贡献者。解决小组开发者面临的小问题的利基项目，或者已经被遗弃，许久未被触及。但它们依然有价值。实际上，很多这样的项目仍然非常有用，被回收、升级或被其他项目所吸收。

## 25:54-Saron Yitbarek

还有一些项目简单地激励着我们，通过它们非常有教育意义的错误教会我们东西。因为在健康的开源环境中，失败给你带来的东西比胜利更好。它给你带来的是洞察力。还有一点，尽管有那么多的死胡同，开源项目的数量每年大约翻一番，尽管有所有的冒险尝试和绝望之举；我们的社区正蓬勃发展，结果证明，我们不是因为失败而蓬勃发展，而是因为失败。下一集，我们将讨论在 DevOps 世界中安全性的变化。持续部署意味着安全性正在渗透到开发的每个阶段，这正在改变我们的工作方式。与此同时，如果你想了解更多关于开源文化的信息，以及我们如何改变围绕失败的文化，请查看 redhat.com/commandlineheroes 上等待你的免费资源。

## 26:54-Saron Yitbarek

《Command Line Heroes》是红帽公司原创播客。可以在 Apple Podcast、Google Podcast 或你喜欢的地方免费收听。我是 Saron Yitbarek。下次再见，继续编码！
